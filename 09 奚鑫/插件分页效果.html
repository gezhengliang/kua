<html>
<head>
  <title>插件分页效果</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307474 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="473"/>
<h1>插件分页效果</h1>

<div>
<span><div><font style="font-size: 24pt;"><b>分页插件 </b></font></div><div><span style="color: rgb(117, 113, 94);"><br/></span></div><div><span style="color: rgb(117, 113, 94);">                 <font style="font-size: 14pt;">   ---分页插件官网:<a href="http://josecebe.github.io/twbs-pagination/">http://josecebe.github.io/twbs-pagination/</a></font></span></div><div><br/></div><div><span style="color: rgb(117, 113, 94);"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#EB0073"><b><span style="font-family: Monaco; font-size: 12pt;">&lt;</span><span style="font-family: Monaco; font-size: 12pt;">script</span> <span style="font-family: Monaco; font-size: 12pt;">src</span><span style="font-family: Monaco; font-size: 12pt;">=</span><span style="font-family: Monaco; font-size: 12pt;">&quot;/static/assets/vendors/twbs-pagination/jquery.twbsPagination.min.js&quot;</span><span style="font-family: Monaco; font-size: 12pt;">&gt;</span><span style="font-family: Monaco; font-size: 12pt;">&lt;</span><span style="font-family: Monaco; font-size: 12pt;">/</span><span style="font-family: Monaco; font-size: 12pt;">script</span><span style="font-family: Monaco; font-size: 12pt;">&gt;</span></b></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 12pt;"><br/></span></font></div><div><span style="font-family: Monaco;"><font color="#328712" style="font-size: 12pt;">//-----分页功能</font></span></div><div><span style="font-family: Monaco;"><font color="#328712" style="font-size: 12pt;">//2使用插件制作分页效果</font></span></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-style: italic; font-family: Monaco;">var</span> <span style="font-family: Monaco;">count</span><span style="font-family: Monaco;">=</span><span style="font-family: Monaco;">datas.count;</span></font></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-style: italic; font-family: Monaco;">var</span> <span style="font-family: Monaco;">totalCount</span><span style="font-family: Monaco;">=</span><span style="font-family: Monaco;">Math</span><span style="font-family: Monaco;">.</span><span style="font-family: Monaco;">ceil</span><span style="font-family: Monaco;">(count</span><span style="font-family: Monaco;">/</span><span style="font-family: Monaco;">20</span><span style="font-family: Monaco;">);</span></font></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-family: Monaco;">$list.</span><span style="font-family: Monaco;">twbsPagination</span><span style="font-family: Monaco;">({</span></font></div><div><font color="#6BE748" style="font-size: 12pt;"><span style="font-family: Monaco;"> first:</span><span style="font-family: Monaco;">'首页'</span><span style="font-family: Monaco;">,</span></font></div><div><font color="#6BE748" style="font-size: 12pt;"><span style="font-family: Monaco;"> last:</span><span style="font-family: Monaco;">'末页'</span><span style="font-family: Monaco;">,</span></font></div><div><font color="#6BE748" style="font-size: 12pt;"><span style="font-family: Monaco;"> next:</span><span style="font-family: Monaco;">'下一页'</span><span style="font-family: Monaco;">,</span></font></div><div><font color="#6BE748" style="font-size: 12pt;"><span style="font-family: Monaco;"> prev:</span><span style="font-family: Monaco;">'上一页'</span><span style="font-family: Monaco;">,</span></font></div><div><font color="#6BE748" style="font-size: 12pt;"><span style="font-family: Monaco;"><br/></span></font></div><div><font style="font-size: 12pt;"><span style="color: rgb(0, 0, 0); font-family: Monaco;"><b> totalPages</b>:totalCount,</span><span style="font-family: Monaco;"><font color="#328712">//总页数</font></span></font></div><div><font style="font-size: 12pt;"><span style="color: rgb(0, 0, 0); font-family: Monaco;"><b> visiblePages</b>:</span><span style="color: rgb(0, 0, 0); font-family: Monaco;">5</span><span style="color: rgb(0, 0, 0); font-family: Monaco;">,</span><span style="font-family: Monaco;"><font color="#41AD1C">//显示页数</font></span></font></div><div><font style="font-size: 12pt;"><b><span style="color: rgb(0, 0, 0); font-family: Monaco;"> onPageClick</span><span style="color: rgb(0, 0, 0); font-family: Monaco;">:</span><span style="color: rgb(0, 0, 0); font-style: italic; font-family: Monaco;">function</span><span style="color: rgb(0, 0, 0); font-family: Monaco;">(</span><span style="color: rgb(0, 0, 0); font-style: italic; font-family: Monaco;">event</span><span style="color: rgb(0, 0, 0); font-family: Monaco;">,</span><span style="color: rgb(0, 0, 0); font-style: italic; font-family: Monaco;">page</span><span style="color: rgb(0, 0, 0); font-family: Monaco;">){</span></b> <font color="#328712"><span style="font-family: Monaco;">//页号点击后的处理程序</span></font></font></div><div><span style="font-family: Monaco;"><font color="#328712" style="font-size: 12pt;"><span>    </span>//形参中的第二个page为当前点击的按钮页号</font></span></div><div><span style="font-family: Monaco;"><font color="#D6D6D6" style="font-size: 12pt;"><span>    </span>// console.log(page);</font></span></div><div><span style="font-family: Monaco;"><font color="#328712" style="font-size: 12pt;"><span>    </span>// 每次点击某个页号按钮时,请求对应页的数据,并进行渲染操作</font></span></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-family: Monaco;"><span>    </span>$.</span><span style="font-family: Monaco;">ajax</span><span style="font-family: Monaco;">({</span></font></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-family: Monaco;"><span>    </span><span>    </span><span>    </span>url:</span><span style="font-family: Monaco;">'/admin/api/_comsget.php'</span><span style="font-family: Monaco;">,</span></font></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 12pt;"><span>    </span><span>    </span><span>    </span>data:{page:page},</font></span></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-family: Monaco;"><span>    </span><span>    </span><span>    </span>success</span><span style="font-family: Monaco;">:</span><span style="font-style: italic; font-family: Monaco;">function</span><span style="font-family: Monaco;">(</span><span style="font-style: italic; font-family: Monaco;">datas</span><span style="font-family: Monaco;">){</span></font></div><div><span style="font-family: Monaco;"><font color="#328712" style="font-size: 12pt;"><span>    </span><span>    </span><span>    </span>//生成结构</font></span></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-family: Monaco;"><span>    </span><span>    </span><span>    </span>$tbody.</span><span style="font-family: Monaco;">html</span><span style="font-family: Monaco;">(</span><span style="font-family: Monaco;">template</span><span style="font-family: Monaco;">(</span><span style="font-family: Monaco;">'comments'</span><span style="font-family: Monaco;">,datas.result));</span></font></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 12pt;"><span>    <span>    </span></span>},</font></span></div><div><font color="#000000" style="font-size: 12pt;"><span style="font-family: Monaco;"><span>    <span>    </span></span>dataType:</span><span style="font-family: Monaco;">'json'</span></font></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 12pt;"><span>    </span>});</font></span></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 12pt;"><b>}</b></font></span></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 12pt;"><b><br/></b></font></span></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 12pt;"><b><br/></b></font></span></div><div><span style="color: #75715e; font-weight: bold; font-family: Monaco; font-size: 12pt;">实际上设置完分页功能后,插件会自动调用第一页的点击效果,我们就不需要自己进行第一次的绘制操作了</span></div></div><div><br/></div></span>
</div></body></html> 